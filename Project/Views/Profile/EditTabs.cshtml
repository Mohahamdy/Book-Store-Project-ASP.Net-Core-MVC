
@*
    For more information on enabling MVC for empty projects, visit http://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
    string controllerName = ViewContext.RouteData.Values["controller"].ToString();
    string actionName = ViewContext.RouteData.Values["action"].ToString();
}

<div class="container-fluid px-4 mt-4">
    <!-- Account page navigation-->
    <ul class="nav nav-tabs">
        <li class="nav-item">
            <a class="profile-nav-link nav-link " aria-current="page" href="~/profile/Edit">Personal Info</a>
        </li>
        @* <li class="nav-item">
            <a class="nav-link " href="~/profile/Billing">

                Billing
            </a>
        </li> *@
        <li class="nav-item">
            <a class="profile-nav-link nav-link" href="~/profile/security">Security</a>
        </li>
      
    </ul>
   
    <hr class="mt-0 mb-4">
@* 
    @if (controllerName.ToLower() == "profile"  && actionName.ToLower() == "billing")
    {
        <partial name="_Billing" />
    }
 *@
    @if (controllerName.ToLower() == "profile" && actionName.ToLower() == "edit")
    {

        <partial name="_EditPersonalinfo" />

    }

    @if (controllerName.ToLower() == "profile" && actionName.ToLower() == "security")
    {

        <partial name="_security" />

    }


</div>

      <script>



    document.addEventListener("DOMContentLoaded", function () {
        const menuItems = document.querySelectorAll('.nav li .profile-nav-link ');
        // Set the active class on the menu item based on sessionStorage
        console.log(menuItems);
        const activeMenuItemIndex = sessionStorage.getItem('activeMenuItemIndex');
        if (activeMenuItemIndex !== null) {
            menuItems[activeMenuItemIndex].classList.add('active');
        }
        menuItems.forEach(function (item) {
            item.addEventListener('click', function (e) {
                // Toggle 'active' class on the clicked menu item
                this.classList.toggle('active');

                // Remove 'active' class from all other menu items
                menuItems.forEach(function (menuItem) {
                    if (menuItem !== item) {
                        menuItem.classList.remove('active');
                    }
                });

                // Store the index of the clicked menu item in sessionStorage
                const index = Array.from(menuItems).indexOf(item);
                sessionStorage.setItem('activeMenuItemIndex', index);
            });
        });


    });

      </script>